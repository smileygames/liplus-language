name: Lin Issue Comment

on:
  workflow_dispatch:
    inputs:
      issue_number:
        description: "Issue number"
        required: true
      message:
        description: "Comment body"
        required: true

permissions:
  issues: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Post comment to issue
        uses: actions/github-script@v7
        with:
          script: |
            const issue_number = Number(process.env.ISSUE_NUMBER);
            const message = process.env.MESSAGE;

            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number,
              body: message,
            });
        env:
          ISSUE_NUMBER: ${{ github.event.inputs.issue_number }}
          MESSAGE: ${{ github.event.inputs.message }}
